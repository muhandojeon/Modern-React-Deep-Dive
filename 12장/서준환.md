# 12장 모든 웹 개발자가 관심을 가져야 할 핵심 웹 지표

## 12.1 웹사이트와 성능

웹사이트의 성능은 굉장히 중요하다.

- 1초 내로 로딩되는 사이트는 5초 내로 로딩되는 사이트보다 전환율이 2.5배 더 높다.
- 0 ~ 5초의 범위에서, 페이지 로딩 시간이 1초 늘어날 때마다 4.42%씩 전환율이 감소한다.
- 0 ~ 2초 사이인 페이지에서 가장 높은 전환율을 달성할 수 있다.

[웹 성능이 중요한 "이유"](https://developer.mozilla.org/ko/docs/Learn/Performance/why_web_performance#%EC%A0%84%ED%99%98%EC%9C%A8_%ED%96%A5%EC%83%81%EC%8B%9C%ED%82%A4%EA%B8%B0)

글을 보다시피 웹 성능이 단순히 시간, 전환율만이 문제가 되는 것이 아니고 비용적인 문제도 있다는 것을 알아갈 수 있었어요.

구글의 통계는 아래와 같네요.

- 웹페이지를 표시하는 데 필요한 최적의 평균 리소스 요청은 50개 미만이다.
- 평균적으로 웹 페이지 전체를 표시하는 데 필요한 시간은 3초 미만이다.
- 페이지 로드 시간이 1초에서 10초로 늘어날수록 이탈률이 123% 증가한다.

**간단 요약**

너무 무겁다. 너무 느리다. 오래 걸리는 것들은 사용자들이 떠나버린다.

> 보통 몇 초 기다리다 나가시나요?

## 12.2 핵심 웹 지표

구글에서 제시하는 핵심 웹 지표는 아래와 같다.

- 최대 콘텐츠 로딩 시간(LCP)
- 최초 입력 지연(FID)
- 누적 레이아웃 이동 (CLS)

핵심은 아니지만 특정 문제 진단에 도움이 되는 지표들은 아래와 같다.

- 최초 바이트 로딩 시간(TTFB)
- 최초 콘텐츠풀 시간 (FCP)

## 12.3 최대 콘텐츠풀 페인트

최대 콘텐츠풀 페인트(LCP)는 사용자가 웹 페이지를 처음 로드 시작한 시점부터 뷰포트 내부에서 가장 중요한 요소(가장 큰 이미지 or 텍스트)를 렌더링하는 데 걸리는 시간을 의미한다.

뷰포트 내부는 사용자가 보는 화면을 의미하며 LCP는 뷰포트 외부는 고려하지 않는다.

그리하여 사용자에게 페이지의 정보를 화면에 전달하는 속도를 **객관적으로 판단**하기 위한 지표다.

2.5초 이내로 응답이 오면 좋다.

### 12.3.5 개선 방안

- 이미지보단 텍스트를 사용하자.
- 이미지를 사용할 땐 img 태그를 사용하거나 video의 경우 poster 속성을 사용하자.

img 태그를 사용하면 브라우저의 프리로드 스캐너가 이미지를 미리 로드하여 렌더링 속도를 높일 수 있다.
이는 병렬적으로 이미지를 로드하기에 효율적이다.

더불어 video 의 poster 속성을 사용하면 이 또한 브라우저가 미리 로드하여 렌더링 속도를 높일 수 있다.
만일 poster가 없다면 브라우저는 비디오를 로드하여 첫 프레임을 poster로 사용한다.

> poster 속성 처음 알았습니다,,

### 그 밖

- 이미지 무손실 압축
- lazy를 남발하지 않기
  - 리소스를 중요하지 않다고 판단하기에 LCP가 늦어질 수 있다.
- fadein과 같은 효과를 사용하지 않기
  - 렌더링이 늦어질 수 있다.
